{{ define "request-monitor" }}

<!-- Page level plugins -->
<script src="/function/faas-flow-dashboard/static/vendor/chart.js/Chart.min.js"></script>

<!-- Page level custom scripts -->
<script src="/function/faas-flow-dashboard/static/js/demo/chart-area-demo.js"></script>
<script src="/function/faas-flow-dashboard/static/js/demo/chart-pie-demo.js"></script>

<!-- google charts -->
<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>

<!-- Content Row -->
<div class="row">
    <div class="card border border-grey shadow shadow-sm" style="width: 70vw;">
		<div id="canvas" style="width: 100%; height: 30vw;">
            <!-- Traces goes here -->
        </div>
        <div class="card-body bg-light">
            <h2 id="request-id" class="card-title">Request ID: {{ .Traces.RequestID }}</h2>
        </div>
        <ul class="list-group list-group-flush">
            <li class="list-group-item" id="start-time">Start Time: {{ .Traces.StartTime }}</li>
            <li class="list-group-item" id="exec-duration">Duration: {{ .Traces.Duration }}</li>
		    <li class="list-group-item" id="exec-status">State: {{ .Traces.Status }} </li>
        </ul>
        <div class="card-body">
           <a id="refresh-traces" href="#"
              class="card-link btn btn-info" data-toggle="tooltip" title="Click to refresh request traces">
               <i class="fa fa-sync-alt"></i>
		       Refresh
		   </a>
           <a id="stop-request" href="#"
               class="card-link btn btn-danger" data-toggle="tooltip" title="Click to stop the request">
               <i class="fa fa-stop"></i>
               Stop
           </a>
           <a id="pause-request" href="#"
               class="card-link btn btn-warning" data-toggle="tooltip" title="Click to pause the request">
               <i class="fa fa-pause"></i>
               Pause
           </a>
           <a id="resume-request" href="#"
               class="card-link btn btn-success" data-toggle="tooltip" title="Click to resume the request">
               <i class="fa fa-play"></i>
               Resume
           </a>
           <a id="download-trace-logs" href="#"
              class="card-link btn btn-secondary" data-toggle="tooltip" title="Click to download raw trace logs">
               <i class="fa fa-download"></i>
		       Logs
		   </a>
        </div>
    </div>
</div>

{{ end }}
